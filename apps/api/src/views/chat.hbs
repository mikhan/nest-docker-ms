<html lang='en'>

<head>
  <meta charset='UTF-8' />
  <meta http-equiv='X-UA-Compatible' content='IE=edge' />
  <meta name='viewport' content='width=device-width, initial-scale=1.0' />
  <title>SSE Test Application</title>
  <link href="/css/chat.css" rel="stylesheet">
  <script src="https://unpkg.com/@reactivex/rxjs@6.6.7/dist/global/rxjs.umd.min.js" crossorigin="anonymous"></script>
  <script type="module" defer>
    import { start } from '/js/chat.js'
    
    const autoStart = {{ init }}
    const username = document.getElementById('username').textContent
    const containerElement = document.getElementById('container')
    const inputElement = document.getElementById('input')
    const listElement = document.getElementById('messages')

    start(username, containerElement, inputElement, listElement, autoStart)
  </script>
</head>

<body>
  <main class="container" id="container">
    <h3 class="title" id="username">{{username}}</h3>
    <ul class="messages" id="messages"></ul>
    <form method="post" name="messagesForm">
      <div class="input" id="input"></div>
      <button type="submit">Send</button>
    </form>
  </main>
</body>

</html>
